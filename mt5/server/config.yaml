# MT5 Trading HTTP Server Configuration

# MT5 Connection Settings
mt5:
  # MT5 terminal path (optional, auto-detect if not specified)
  terminal_path: ""
  
  # MT5 connection settings (使用当前已登录的MT5客户端)
  # 不需要账户配置，直接使用MT5客户端当前登录的账户
  
  # Connection timeout settings
  timeout:
    connect: 30  # Connection timeout in seconds
    trade: 10    # Trade operation timeout in seconds

# HTTP Server Settings
server:
  host: "127.0.0.1"  # Server host
  port: 5000         # Server port
  debug: false       # Debug mode (set to true for development)
  
  # API Security
  security:
    api_key: ""      # API key for authentication (leave empty to disable)
    allowed_ips: []  # List of allowed IP addresses (empty = allow all)

# Trading Settings
trading:
  # Default trading parameters
  default_volume: 0.1      # Default lot size
  max_volume: 10.0         # Maximum allowed lot size
  min_volume: 0.01         # Minimum allowed lot size
  
  # Risk management
  max_slippage: 3          # Maximum slippage in points
  magic_number: 12345      # Magic number for trades
  
  # Allowed symbols (empty = allow all)
  allowed_symbols: []
  
  # Trading time restrictions (通过webhook "开启时间区间" 控制)
  trading_hours:
    timezone: "UTC"        # Default timezone for trading hours

    # 预定义的时间区间配置
    intervals:
      # 欧洲时段
      europe:
        name: "欧洲时段"
        start_time: "08:00"
        end_time: "16:00"
        timezone: "Europe/London"
        description: "伦敦交易时段"

      # 美洲时段
      america:
        name: "美洲时段"
        start_time: "14:00"
        end_time: "22:00"
        timezone: "America/New_York"
        description: "纽约交易时段"

      # 亚洲时段
      asia:
        name: "亚洲时段"
        start_time: "01:00"
        end_time: "09:00"
        timezone: "Asia/Tokyo"
        description: "东京交易时段"



# Logging Settings
logging:
  level: "INFO"            # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "mt5_server.log"   # Log file path
  max_size: 10485760       # Max log file size in bytes (10MB)
  backup_count: 5          # Number of backup log files to keep
  
  # Console logging
  console: true            # Enable console logging
  
  # Log format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Webhook Settings
webhook:
  # TradingView webhook validation
  validate_source: false   # Validate webhook source
  
  # Webhook timeout
  timeout: 30              # Webhook processing timeout in seconds
  
  # Required fields in webhook payload
  required_fields:
    - "action"             # buy, sell, close, etc.
    - "symbol"             # trading symbol
  
  # Optional fields with defaults
  optional_fields:
    volume: 0.1            # default volume if not specified
    comment: "Webhook Trade"  # default comment
